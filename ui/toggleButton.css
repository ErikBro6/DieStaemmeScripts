:root {
  /* ON */
  --ds-on:      #059669;  /* emerald-600 */
  --ds-on-2:    #10b981;  /* emerald-500 */
  --ds-on-3:    #34d399;  /* emerald-400 */
  --ds-on-txt:  #ecfdf5;  /* mint-50 */
  --ds-on-ring: rgba(16,185,129,.6);

  /* OFF */
  --ds-off:      #dc2626; /* red-600 */
  --ds-off-2:    #ef4444; /* red-500 */
  --ds-off-3:    #f87171; /* red-400 */
  --ds-off-txt:  #fff1f1;
  --ds-off-ring: rgba(239,68,68,.55);

  /* Neutral */
  --ds-bg:   #0b1220;
  --ds-txt:  #e5e7eb;
  --ds-muted:#9ca3af;
}
@media (prefers-color-scheme: light) {
  :root { --ds-bg:#ffffff; --ds-txt:#111827; --ds-muted:#6b7280; }
}

.ds-toggle {
  --h: 32px;
  display: inline-flex;
  align-items: center;
  gap: .55rem;
  height: var(--h);
  padding: 0 .75rem 0 .5rem;/* kompakter */
  font: 600 13px/1 system-ui,-apple-system,Segoe UI,Inter,Roboto,Arial,sans-serif;
  border: 0;
  border-radius: 999px;
  color: var(--ds-txt);
  background: #111827;
  box-shadow:
    0 1px 2px rgba(0,0,0,.25),
    inset 0 0 0 1px rgba(255,255,255,.06);
  cursor: pointer;
  user-select: none;
  transition: transform .06s ease,
              box-shadow .2s ease,
              background .2s ease,
              filter .2s ease;
}
.ds-toggle:hover { box-shadow: 0 4px 14px rgba(0,0,0,.28), inset 0 0 0 1px rgba(255,255,255,.08); }
.ds-toggle:active { transform: translateY(1px); }
.ds-toggle:focus-visible { outline: none; box-shadow: 0 0 0 3px var(--ds-on-ring), 0 1px 2px rgba(0,0,0,.25); }
.ds-toggle[disabled] { filter: grayscale(1) opacity(.65); cursor: not-allowed; }

.ds-toggle .dot {
  width: calc(var(--h) - 10px);
  height: calc(var(--h) - 10px);
  border-radius: 50%;
  transition: transform .2s ease, background .2s ease, box-shadow .2s ease, filter .2s ease;
}

/* OFF-STATE: sattes Rot, klare Warnung */
.ds-toggle.is-off {
  background:
    linear-gradient(180deg, rgba(239,68,68,.20), rgba(127,29,29,.25)),
    #1f0b0b;
  color: var(--ds-off-txt);
  box-shadow:
    0 2px 10px rgba(239,68,68,.25),
    inset 0 0 0 1px rgba(255,255,255,.06);
}
.ds-toggle.is-off .dot {
  background: linear-gradient(180deg, var(--ds-off-3), var(--ds-off));
  box-shadow:
    inset 0 0 0 2px rgba(255,255,255,.18),
    0 2px 10px rgba(239,68,68,.55);
}
.ds-toggle.is-off .label { opacity: .95; }
.ds-toggle.is-off .state { color: #ffe1e1; }

/* ON-STATE: kräftiges Grün, positive Betonung */
.ds-toggle.is-on {
  background:
    linear-gradient(180deg, rgba(16,185,129,.26), rgba(6,95,70,.35)),
    #0b1f1a;
  color: var(--ds-on-txt);
  box-shadow:
    0 2px 12px rgba(16,185,129,.32),
    inset 0 0 0 1px rgba(255,255,255,.06);
}
.ds-toggle.is-on .dot {
  background: linear-gradient(180deg, var(--ds-on-3), var(--ds-on));
  box-shadow:
    inset 0 0 0 2px rgba(255,255,255,.22),
    0 2px 12px rgba(16,185,129,.65);
  transform: translateX(2px) scale(1.06);
}
.ds-toggle.is-on .state { color: #e7fff6; }
.ds-toggle .label { opacity: .92; }
.ds-toggle .state {
  min-width: 2.4em;
  text-align: right;
  letter-spacing: .02em;
  opacity: .95;
}

/* Kleine Mikro-Animation, wenn aktiv (dezent) */
@keyframes dsPulseOn {
  0% { filter: saturate(1); }
  50% { filter: saturate(1.25); }
  100% { filter: saturate(1); }
}
.ds-toggle.is-on .dot { animation: dsPulseOn 2s ease-in-out infinite; }
